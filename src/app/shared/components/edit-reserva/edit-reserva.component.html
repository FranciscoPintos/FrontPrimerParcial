<h1 mat-dialog-title class="mat-title" xmlns="http://www.w3.org/1999/html">Agregar Reserva
</h1>

<div>
  <form [formGroup]="myForm">
    <section>
      <mat-form-field style="width: 50%" appearance="fill">
        <mat-label>Fecha</mat-label>
        <input matInput [matDatepicker]="fecha" formControlName="fecha"/>
        <mat-hint>DD/MM/AAAA</mat-hint>
        <mat-datepicker-toggle
          matSuffix
          [for]="fecha"
        ></mat-datepicker-toggle>
        <mat-datepicker #fecha></mat-datepicker>
      </mat-form-field>

      <mat-form-field style="width: 50%" appearance="fill">
        <mat-label>Empleado</mat-label>
        <mat-select formControlName="idEmpleado">
          <mat-option
            *ngFor="let item of usuarios$ | async; let i = index"
            [value]="item.idPersona">
            {{ item.nombre }} {{ item.apellido }}
          </mat-option>
        </mat-select>
      </mat-form-field>
      <mat-form-field style="width: 50%" appearance="fill">
        <mat-label>Cliente</mat-label>
        <mat-select formControlName="idCliente">
          <mat-option
            *ngFor="let item of usuarios$ | async; let i = index"
            [value]="item.idPersona">
            {{ item.nombre }} {{ item.apellido }}
          </mat-option>
        </mat-select>
      </mat-form-field>
    </section>
  </form>
</div>
<div class="example-container mat-elevation-z8">

  <table mat-table [dataSource]="dataSource" class="mat-elevation-z8">

    <!-- Position Column -->
    <ng-container matColumnDef="horaInicio">
      <th mat-header-cell *matHeaderCellDef>Hora inicio</th>
      <td mat-cell *matCellDef="let element"> {{element.horaInicioCadena}} </td>
    </ng-container>

    <!-- Weight Column -->
    <ng-container matColumnDef="horaFin">
      <th mat-header-cell *matHeaderCellDef> Fin</th>
      <td mat-cell *matCellDef="let element"> {{element.horaFinCadena}} </td>
    </ng-container>


    <ng-container matColumnDef="idCliente">
      <th mat-header-cell *matHeaderCellDef> Cliente</th>
      <td mat-cell *matCellDef="let element"> {{element.idCliente?.nombreCompleto}} </td>
    </ng-container>

    <ng-container matColumnDef="acciones">
      <th mat-header-cell *matHeaderCellDef> Acciones</th>
      <td mat-cell *matCellDef="let element;let row" (click)="$event.stopPropagation()">
        <button *ngIf="element.idReserva" mat-icon-button color="primary">
          <mat-icon>done_outline</mat-icon>
        </button>
        <mat-radio-button *ngIf="!element.idReserva" [checked]='selected'
                          (change)="setSelected(row)"></mat-radio-button>
      </td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <cdk-virtual-scroll-viewport itemSize="50" class="example-viewport">
      <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
    </cdk-virtual-scroll-viewport>

  </table>


  <!--  <mat-paginator fxLayout="center center" [pageSizeOptions]="[2, 10, 20]"-->
  <!--                 showFirstLastButtons-->
  <!--                 aria-label="Select page of periodic elements">-->
  <!--  </mat-paginator>-->

</div>
<div>
  <form [formGroup]="myForm">

  </form>
  <button mat-raised-button (click)="onNoClick()">Cancelar</button>
  <button mat-raised-button (click)="addReserva()" cdkFocusInitial>Agregar</button>
</div>


