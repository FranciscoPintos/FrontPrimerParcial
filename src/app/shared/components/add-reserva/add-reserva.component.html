<h1 mat-dialog-title class="mat-title" style="float:center;">Agregar Reserva</h1>
<div mat-dialog-content class="mat-typography">
  <p>Ingrese los datos</p>
  <form [formGroup]="myForm">
    <span class="example-list-section">
      <mat-checkbox class="example-margin"
                    [checked]="allComplete"
                    (change)="setCheck($event.checked)"
                    color="primary">
        Mostar ya reservados
      </mat-checkbox>
    </span>
    <section style="float: center;">
      <mat-form-field style="width: 100%" appearance="fill">
        <mat-label>Fecha</mat-label>
        <input matInput [matDatepicker]="fecha" formControlName="fecha"/>
        <mat-hint>DD/MM/AAAA</mat-hint>
        <mat-datepicker-toggle
          matSuffix
          [for]="fecha"
        ></mat-datepicker-toggle>
        <mat-datepicker #fecha></mat-datepicker>
      </mat-form-field>

      <mat-form-field style="width: 100%" appearance="fill">
        <mat-label>Empleado</mat-label>
        <mat-select formControlName="idEmpleado">
          <mat-option
            *ngFor="let item of usuarios$ | async; let i = index"
            [value]="item.idPersona">
            {{ item.nombre }} {{ item.apellido }}
          </mat-option>
        </mat-select>
      </mat-form-field>
    </section>
    <section style="float:right;">
      <button (click)="buscar()" mat-raised-button color="primary">
        Buscar
      </button>
    </section>
  </form>
</div>

<div>
  <table mat-table [dataSource]="dataSource" class="mat-elevation-z8">

    <!-- Position Column -->
    <ng-container matColumnDef="horaInicio">
      <th mat-header-cell *matHeaderCellDef>Hora inicio</th>
      <td mat-cell *matCellDef="let element"> {{element.horaInicio}} </td>
    </ng-container>

    <!-- Weight Column -->
    <ng-container matColumnDef="horaFin">
      <th mat-header-cell *matHeaderCellDef> Fin</th>
      <td mat-cell *matCellDef="let element"> {{element.horaFin}} </td>
    </ng-container>


    <ng-container matColumnDef="idCliente">
      <th mat-header-cell *matHeaderCellDef> Cliente</th>
      <td mat-cell *matCellDef="let element"> {{element.nombreCompleto}} </td>
    </ng-container>

    <ng-container matColumnDef="acciones">
      <th mat-header-cell *matHeaderCellDef> Acciones</th>
      <td mat-cell *matCellDef="let element">
        <button mat-raised-button color="warn">Cancelar</button>
        <button mat-raised-button color="primary">Modificar</button>
      </td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
  </table>

</div>

<div>
  <button mat-raised-button (click)="onNoClick()">Cancelar</button>
  <button mat-raised-button (click)="addFichaClinica()" cdkFocusInitial>Agregar</button>
</div>
